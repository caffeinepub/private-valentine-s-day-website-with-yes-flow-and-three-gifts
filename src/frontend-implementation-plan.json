{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Revert Frontend to Version 3",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Restore all frontend files to their exact Version 3 state",
      "acceptanceCriteria": [
        "All frontend files match Version 3 state",
        "Version number reflects reversion to Version 3",
        "Application functionality matches Version 3 behavior"
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Restore App.tsx to Version 3 state including authentication flow, allowlist checks, and routing logic"
        },
        {
          "path": "frontend/src/components/auth/AccessDeniedScreen.tsx",
          "operation": "modify",
          "description": "Restore AccessDeniedScreen component to Version 3 implementation"
        },
        {
          "path": "frontend/src/components/auth/SignInScreen.tsx",
          "operation": "modify",
          "description": "Restore SignInScreen component to Version 3 implementation with Internet Identity integration"
        },
        {
          "path": "frontend/src/components/layout/ValentineLayout.tsx",
          "operation": "modify",
          "description": "Restore ValentineLayout to Version 3 state including background art references and layout structure"
        },
        {
          "path": "frontend/src/features/valentine/QuestionScreen.tsx",
          "operation": "modify",
          "description": "Restore QuestionScreen to Version 3 implementation including animation logic and interaction handlers"
        },
        {
          "path": "frontend/src/features/valentine/ValentineFlow.tsx",
          "operation": "modify",
          "description": "Restore ValentineFlow state management to Version 3 behavior"
        },
        {
          "path": "frontend/src/features/valentine/GiftsScreen.tsx",
          "operation": "modify",
          "description": "Restore GiftsScreen to Version 3 implementation including gift selection interface"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift1Song.tsx",
          "operation": "modify",
          "description": "Restore Gift1Song audio player component to Version 3 state"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift2Bouquet.tsx",
          "operation": "modify",
          "description": "Restore Gift2Bouquet virtual bouquet component to Version 3 state"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift3Message.tsx",
          "operation": "modify",
          "description": "Restore Gift3Message editable message component to Version 3 state"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift4Poem.tsx",
          "operation": "modify",
          "description": "Restore Gift4Poem formatted poem display to Version 3 state"
        },
        {
          "path": "frontend/src/hooks/useActor.ts",
          "operation": "modify",
          "description": "Restore useActor hook to Version 3 implementation including actor management and identity handling"
        },
        {
          "path": "frontend/src/hooks/useAllowlistGate.ts",
          "operation": "modify",
          "description": "Restore useAllowlistGate hook to Version 3 implementation"
        },
        {
          "path": "frontend/src/hooks/useInternetIdentity.ts",
          "operation": "modify",
          "description": "Restore useInternetIdentity authentication hook to Version 3 state"
        },
        {
          "path": "frontend/src/hooks/useQueries.ts",
          "operation": "modify",
          "description": "Restore useQueries profile data hooks to Version 3 implementation"
        },
        {
          "path": "frontend/src/utils/urlParams.ts",
          "operation": "modify",
          "description": "Restore urlParams utility helpers to Version 3 state"
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Restore global styles and Tailwind configuration to Version 3 state including theme variables and utilities"
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Restore React app bootstrap file to Version 3 state including provider setup"
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Restore Tailwind configuration to Version 3 state including custom colors, animations, and theme extensions"
        },
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Restore HTML entrypoint to Version 3 state"
        },
        {
          "path": "frontend/index.css",
          "operation": "modify",
          "description": "Restore Tailwind base styles to Version 3 state"
        }
      ]
    }
  ]
}