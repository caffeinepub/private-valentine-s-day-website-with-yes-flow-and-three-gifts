{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Restore codebase to Version 3 state",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Restore all frontend code files to their exact state as they existed in Version 3 draft",
      "acceptanceCriteria": [
        "All files match the exact content from Version 3",
        "No features or changes from later versions remain in the codebase",
        "The application functions identically to Version 3"
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Restore App.tsx to Version 3 state with original authentication flow and component structure"
        },
        {
          "path": "frontend/src/components/auth/SignInScreen.tsx",
          "operation": "modify",
          "description": "Restore SignInScreen component to Version 3 implementation"
        },
        {
          "path": "frontend/src/components/auth/AccessDeniedScreen.tsx",
          "operation": "modify",
          "description": "Restore AccessDeniedScreen component to Version 3 implementation"
        },
        {
          "path": "frontend/src/components/layout/ValentineLayout.tsx",
          "operation": "modify",
          "description": "Restore ValentineLayout component to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/ValentineFlow.tsx",
          "operation": "modify",
          "description": "Restore ValentineFlow state machine to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/QuestionScreen.tsx",
          "operation": "modify",
          "description": "Restore QuestionScreen component to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/GiftsScreen.tsx",
          "operation": "modify",
          "description": "Restore GiftsScreen component to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift1Song.tsx",
          "operation": "modify",
          "description": "Restore Gift1Song component to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift2Bouquet.tsx",
          "operation": "modify",
          "description": "Restore Gift2Bouquet component to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift3Message.tsx",
          "operation": "modify",
          "description": "Restore Gift3Message component to Version 3 implementation"
        },
        {
          "path": "frontend/src/features/valentine/gifts/Gift4Poem.tsx",
          "operation": "modify",
          "description": "Restore Gift4Poem component to Version 3 implementation"
        },
        {
          "path": "frontend/src/hooks/useActor.ts",
          "operation": "modify",
          "description": "Restore useActor hook to Version 3 implementation"
        },
        {
          "path": "frontend/src/hooks/useInternetIdentity.ts",
          "operation": "modify",
          "description": "Restore useInternetIdentity hook to Version 3 implementation"
        },
        {
          "path": "frontend/src/hooks/useAllowlistGate.ts",
          "operation": "modify",
          "description": "Restore useAllowlistGate hook to Version 3 implementation"
        },
        {
          "path": "frontend/src/hooks/useQueries.ts",
          "operation": "modify",
          "description": "Restore useQueries hook to Version 3 implementation"
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Restore main.tsx entry point to Version 3 implementation"
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Restore index.css styles to Version 3 implementation"
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Restore Tailwind configuration to Version 3 implementation"
        },
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Restore index.html to Version 3 implementation"
        }
      ]
    }
  ]
}